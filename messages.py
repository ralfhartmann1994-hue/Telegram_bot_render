# messages.py (ุงุณุชุจุฏุงู ุฏุงูุฉ delayed_send ุงูุญุงููุฉ)
import random
import time

def delayed_send(bot, chat_id, text, delay=None, **kwargs):
    """
    Webhook-safe: ููุจู delay ููุชูุงุดู ูุน ุงุณุชุฏุนุงุกุงุช ูุฏููุฉุ
    ููู ูุง ููุฑููุฑ delay ุฅูู bot.send_message ูุฃู ูุฐู ุงูุฏุงูุฉ ูุง ุชูุจูู.
    ููุง ูุนุงูุฌ ุงูุฃุฎุทุงุก ููุทุจุน ููุฌ ูุงุถุญ.
    """
    # ูุง ุชูุฑูุฑ delay ุฅูู send_message
    if 'delay' in kwargs:
        kwargs.pop('delay', None)
    try:
        # ูุงุญุธ: ูุง ูููู ุจู time.sleep ููุง (ููุจููู ูุฌุจ ุฃู ูุฑุฏ ุจุณุฑุนุฉ).
        bot.send_message(chat_id, text, **kwargs)
    except Exception as e:
        print(f"[SEND_MESSAGE ERROR] {e} | chat_id={chat_id} | text_preview={str(text)[:120]}")
        
# ============ ุฑุณุงุฆู ุงูุจุฏุงูุฉ / ุณุชุงุฑุช ============
START_MESSAGES = [
    "๐ ุฃููุงู ุฃููุงูโฆ ุญุถูุฑ ููุณูุ ูููู ุชุถุญู ุฃู ูููู ุชูุฏู ุนูู ุฏุฎููู!",
    "๐ ููุง ุจู! ูุฐุง ุงูุจูุช ูุซู ุญูุจุฉ ูุตุงุฑุนุฉโฆ ุจุณ ุจุงูุณูุงูู ูุงูููุช.",
    "๐ ุฏุฎูุช ุนุงูู ุงูุณุคุงูโฆ ูู ุดูุก ูููู ูุญุฏุซุ ุญุชู ุถุญู ุนูู ุบุฑุงุฆุจ ููุณู!",
    "๐ฅ ููุง! ูุง ุชุดูู ููุ ูู ุงููู ุฑุงุญ ูุณูู ูู ุงูุจูุช ูู ุฅูู ููุตูู ูุดุฎุต ุบุฑูุจ ููุงูุดู ูู ููุงุถูุนู.",
    "๐ ุญุจูุจูุ ุงูุชุจู: ุจุนุถ ุงููุงุณ ููู ูููู ูููุชูุง ุนูู ุทููโฆ ูุจุนุถูู ุนูู ุญุณุงุจู!",
    "ููุฏ ูุตูุช ุงูู ุทุฑูู ูุณุฏูุฏ.. ุจุณ ูููุชุญู ูุฑูุงูู ๐",
    "ุชูุถู ูุง ูููุงู...",
    "ุงู ุชูุถู ุชูุถู ุชูุถู โค๏ธโค๏ธ"
]

# ============ ุงูุฑุณุงุฆู ุงูุฑูุงุถูุฉ (ูุฑุฉ ุงููุฏู) ============
FOOTBALL_MESSAGES = [
    "โฝ ุฏุฎูุช ุนุงูู ุงููุฑุฉโฆ ูู ุฃูุช ูุน ุจุฑุดูููุฉุ ุฃู ูู ูุฑููู ุณูุฎุณุฑ ุฃูุงู ุฑูุงู ูุฏุฑูุฏ ูุฑุฉ ุฃุฎุฑู ๐",
    "๐ ูููุฑุจูู ูุง ุบุงูู! ุญุถุฑ ุดุงููุ ุงููุจุงุฑุงุฉ ุงูููุงููุฉ ุจุฏุฃุช ๐",
    "๐ฅ ุจุงูุฑู ูููููุฎ ูุฏุฎู ุงูุฏูุฑูโฆ ุฃู ุนูู ุงูุฃูู ูู ุญุฏูุซู ูุน ุดุฑููู ๐",
    "โก ูุงูุดุณุชุฑ ูููุงูุชุฏ ูุทุงูุจ ุจุงูุงุญุชุฑุงูโฆ ูู ุณุชุญุตู ุนููู ูู ุงูููุงุดุ",
    "๐คฃ ุจุงุฑูุณ ุณุงู ุฌูุฑูุงู: ุญุชู ูู ุงูููุงุด ูุตูุฑุ ุงูุถุญู ูุถููู!",
    "โฝ ุชุดููุณู ููุง ุขุฑุณูุงูุ ุงุฎุชุฑ ูุฑูููุ ุงูุจุงูู ุนูู ุงููุฒุงุฌ ๐",
    "๐๏ธ ุฑูุงู ูุฏุฑูุฏ ูุฏุฎู ุงูููุนุจโฆ ููู ุดุฑููู ูููู ูููู ูุน ุจุฑุดูููุฉ ๐",
    "๐ฏ ุฌูููุชูุณ ูุญุงูู ุงูุชุณุฌููโฆ ููู ุงูููุงุด ุงูููุณูู ูุฏ ูุณุฑู ุงููุฑุฉ ููู!",
    "๐ ุฅูุชุฑ ูููุงูุ ูููู ูููู ุดุฑูููโฆ ุฃู ูุฌุฑุฏ ูุฏุงูุน ุตุงูุช ๐",
    "โก ูููุงู ุถุฏ ูุงุจูููโฆ ุงูููุงุด ูุญุชุฏู ูุงูุถุญู ุญุงุถุฑ!"
]

# ============ ุงูุฑุณุงุฆู ุงูุณูุงุณูุฉ ============
POLITICS_MESSAGES = [
    "๐ ุงููุงู ูู ุณุงุญุฉ ุงูุณูุงุณุฉโฆ ูู ุงูุญูููุงุช ุชุฎุจุฑูุง ูู ุงูุญูููุฉุ",
    "๐ต๏ธโโ๏ธ ุจุนุถ ุงููุคุงูุฑุงุช ุบุฑูุจุฉโฆ ูุฏ ุชููู ุตุญูุญุฉุ ุฃู ูุฌุฑุฏ ุชุฎููุงุช!",
    "๐๏ธ ุงูุนุงูู ูููุก ุจุงูุฏูู ุงูุชู ุชุชุญุฑู ุฎูู ุงูููุงููุณโฆ ุฃู ูุงุญุฏุฉ ุณุชุฎุชุงุฑ ููููุงุดุ",
    "๐ฐ ุฃุฎุจุงุฑ ุงูููู ุชุซูุฑ ุงูุชุณุงุคูโฆ ูู ูุญู ุฃุญุฑุงุฑ ุญููุงุ",
    "โ๏ธ ุงูููุงุด ุงูุณูุงุณู ูุฏ ูุบูุฑ ุฃููุงุฑูโฆ ูู ุฃูุช ูุณุชุนุฏ ููุชุณุงุคู ุงูุนูููุ",
    "๐ ูู ุฏููุฉ ููุง ูุตุงูุญูุงโฆ ููู ูู ุงููุตุงูุญ ุฏุงุฆููุง ูุงุถุญุฉุ",
    "๐ ุงูุชุงุฑูุฎ ูููุก ุจุงููุคุงูุฑุงุช ุงููุจุฑูโฆ ุจุนุถ ุงูุฃุณุฆูุฉ ูุง ุชุฌุฏ ุฅุฌุงุจุฉ!",
    "๐ฌ ุงูุณูุงุณุฉ ููุณุช ููุท ุญูุงูโฆ ุจู ุงููุงุณุ ูุงูุดุงุฆุนุงุชุ ูุงูุฃููุงุฑ!",
    "๐บ๏ธ ูู ุงูุดุฑู ุฅูู ุงูุบุฑุจุ ูู ุฏููุฉ ููุง ูุตุฉโฆ ูู ุชุนุฑู ุงููุตุฉ ุงููุงููุฉุ",
    "๐ ุงูููุงุด ุงูุณูุงุณู ููุดู ุนูุงูู ูุฌูููุฉโฆ ุงุณุชุนุฏ ููุชูููุฑ ุงูุนููู."
]

# ============ ุงูุฑุณุงุฆู ุงูุฏูููุฉ ============
RELIGION_MESSAGES = [
    "๐ ุฃููุงู ุจูโฆ ููุง ููุงูุด ุงูุฏูู ูุงูุฃููุงุฑ ุจุญููุฉุ ูุน ุงุญุชุฑุงู ุงูุฌููุน.",
    "โ๏ธ ุงููููุฏูุฉุ ุงููุณูุญูุฉุ ุงูุฅุณูุงูโฆ ูููุง ูุชุดุงุฑู ูู ูุถุงุกุงุช ุงูุชุนูู ูุงูุงุญุชุฑุงู.",
    "โช๏ธ ุงูุญูุงุฑ ุงูุฏููู ูุจุฏุฃ ุจุงููููโฆ ูููุชูู ุจุงูุชุนุงูุด ูุงูุณูุงู.",
    "๐ฟ ุงูุฅูุญุงุฏ ูุงูููุฑ ุงูุญุฑ ููุฌูุฏ ุฃูุถูุงโฆ ููุญุชุฑู ูู ุงูุขุฑุงุก.",
    "๐๏ธ ูุฏู ุงูููุงุด ูู ุงูุญููุฉุ ูุง ุงูุฅูุฒุงูโฆ ุฃุทุฑุญ ุฃููุงุฑู ุจุฃูุงู.",
    "โช ุงุฎุชูุงููุง ูู ุงููุนุชูุฏุงุช ูุนููููุง ุงูุชูุงุถุน ูุงูุตุจุฑ ุนูู ุงูุขุฎุฑ.",
    "๐ ุฃุณุณ ุงูุนููุงุก: ุงูุงุณุชูุงุน ูุจู ุงูุฑุฏโฆ ุงูุงุญุชุฑุงู ููู ูู ุดูุก.",
    "๐ ูู ููุงุด ุฏููู ูุฑุตุฉ ููุชูุงุฑุจ ุจูู ุงูุจุดุฑุ ูุง ูููุฑูุฉ.",
    "โฎ๏ธ ุฃุญูุงููุง ูุฎุชูู ูู ุงูุฑุฃูุ ููู ูุฌูุนูุง ุงูุฅูุณุงููุฉ ูุงูุฑุญูุฉ.",
    "๐ ุงูุญูุงุฑ ุงูุจููุงุก ูุนุฒุฒ ุงููุนุฑูุฉ ูุงูุชุณุงูุญโฆ ููุง ููุงูู ูุชุจุงุฏู ุงูุฃููุงุฑ."
]

# ============ ุงูุฑุณุงุฆู ุงูููุณููุฉ ============
PHILOSOPHY_MESSAGES = [
    "๐ค ูุง ูุนูู ุฃู ุชููู ููุฌูุฏูุงุ ูู ุงููุฌูุฏ ูุฌุฑุฏ ุตุฏูุฉ ุฃู ุงุฎุชูุงุฑุ",
    "๐ง ูู ููุฑุฉ ูููููุง ูู ุงูุนูุงุณ ูุฐุงุชูุงโฆ ูู ุชุนุฑู ูู ุฃูุช ูุนูุงูุ",
    "๐ 'ุฃูุง ุฃููุฑุ ุฅุฐู ุฃูุง ููุฌูุฏ'โฆ ููู ูู ูุฑุงูุจ ุงูุชูููุฑุ",
    "๐ญ ุฃุญูุงููุง ุงูุณุคุงู ุฃูู ูู ุงูุฌูุงุจโฆ ูู ุชุจุญุซ ุนู ุงูุญูููุฉ ุฃู ุงููุชุนุฉุ",
    "๐ฉ ุงูููุณูุฉ ูุซู ุงููููุฉุ ุฃุญูุงููุง ูุฑุฉุ ุฃุญูุงููุง ุบุฑูุจุฉโฆ ููู ูุง ุชุณุชุทูุน ุงูุงุณุชุบูุงุก ุนููุง.",
    "โก ูู ุงูููุช ุฎุท ููููุ ุฃู ุฃู ุงููุงุถู ูุงูุญุงุถุฑ ูุงููุณุชูุจู ูุฌุฑุฏ ูุนุจุฉ ุนููุ",
    "๐ ูู ูุญู ูุฎุชุงุฑ ุฃููุงุฑูุงุ ุฃู ูู ุชุฃุชู ุฅูููุง ุจูุง ุงุณุชุฆุฐุงูุ",
    "๐คฃ ุญุชู ุณูุฑุงุท ูุงู ูุถุญู ุนูู ููุณูโฆ ูุฃูุชุ ูู ุชุณุชุทูุน ุฃู ุชุณุฎุฑ ูู ููุณูุชูุ",
    "๐ ุงูููู ูููุก ุจุงูุฃุณุฑุงุฑโฆ ูุงูููุฑ ุงูุฅูุณุงูู ูุญุงูู ููุท ุงูุฅูุณุงู ุจูุง.",
    "๐ง ุฃุญูุงููุง ุงูุชุฌุฑุจุฉ ุฃูู ูู ุงููุธุฑูุฉโฆ ูู ุชุนูุด ุงูููุณูุฉ ุฃู ุชุฏุฑุณูุง ููุทุ"
]

# ============ ุฑุณุงุฆู ุงูุชุนุงุฑู / ุงูุฑููุงูุณูุฉ ============
SOCIAL_MESSAGES = [
    "๐ฌ ูุฑุญุจูุง ุจูโฆ ุงูุจุดุฑ ุฎูููุง ููุชุนุงุฑูุ ููุญุชุฑู ุจุนุถูุง ููุชุนูู ูู ุจุนุถูุง.",
    "โค๏ธ ุงูุชูุงุตู ุจูู ุงูุจุดุฑ ูุฎุชูู ุนู ูู ุงููุงุฆูุงุช ุงูุฃุฎุฑูโฆ ููุง ุชุจุฏุฃ ุงูุฑุญูุฉ!",
    "๐ค ูู ุดุฎุต ูููู ูุตุฉโฆ ูู ุฃูุช ูุณุชุนุฏ ูุณูุงุนูุง ููุดุงุฑูุชูุงุ",
    "๐ 'ุฎูููุงูู ุดุนูุจูุง ููุจุงุฆู ูุชุนุงุฑููุง'โฆ ุงุฎุชุฑ ุดุฑููู ููุญุฏูุซ ุงููุทูู.",
    "โจ ุงูุงุญุชุฑุงู ูู ุฃุณุงุณ ูู ูุญุงุฏุซุฉโฆ ุถุญูุฉ ูุงุญุฏุฉ ูููู ุฃู ุชุตูุน ูููู!",
    "๐ฅฐ ุฑุจูุง ุชุฌุฏ ุตุฏูููุง ุฃู ูุฌุฑุฏ ูุญุธุฉ ุณุนุงุฏุฉโฆ ูู ุดูุก ูููู ูู ุงูููุงุด.",
    "๐ญ ุงูุญููุงูุงุช ุชุชูุงุตูุ ููู ุงูุจุดุฑ ูุนููููโฆ ูููุณุชุฎุฏู ุงูุนูู ูุงููุทู ูุนูุง.",
    "๐น ููุง ููู ุญุฏูุซ ูููุฉโฆ ููู ูุงูุช ูุฌุฑุฏ ุงุจุชุณุงูุฉ ุนูู ุงูุดุงุดุฉ.",
    "๐ ุงููุญุงุฏุซุฉ ุงูุตุญูุญุฉ ุชูุดุนุฑ ุจุงูุฏูุกโฆ ูู ูููุฉ ุชูุจูู ุจุนูุงูุฉ ูุงุญุชุฑุงู.",
    "๐ ุชุนุงุฑู ูุทููุ ูุฒุงุญ ุฎูููุ ูุฃููุงุฑ ุฌูููุฉโฆ ูุฐู ูููุชูุง ูุนูุง."
]

# ============ ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ ุจุงูุนูููุงุช ============
WELCOME = "๐ ูุฑุญุจูุง ุจู! ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ููุจุฏุก."
HELP = (
    "๐ <b>ูุณุงุนุฏุฉ</b>\n"
    "โข ๐ค ูููู โ ุนุฑุถ ุจูุงูุงุชู.\n"
    "โข โ๏ธ ุชุนุฏูู ุงูุงุณู / ๐ ุชุนุฏูู ุงูุนูุฑ.\n"
    "โข ๐ ุงูุจุญุซ ุนู ุฏุฑุฏุดุฉ โ ุชุฎุชุงุฑ ููุถูุนูุง + ุฌูุณ ุงูุทุฑู ุงูุขุฎุฑ ุซู ูุจุญุซ ููุฏุฉ 30 ุฏูููุฉ.\n"
    "โข ุฃุซูุงุก ุงูุฏุฑุฏุดุฉ: ๐จ ุฅุจูุงุบุ ๐ช ูุบุงุฏุฑุฉ (ุจุนุฏ 30 ุซุงููุฉ) ูุน ุชุฃููุฏ.\n"
)

SEARCHING = "โณ ุฌุงุฑู ุงูุจุญุซ ุนู ุดุฑูู ููุงุณุจโฆ ุงุจูู ููุง ุฃู ุนุฏ ูููุงุฆูุฉุ ุณูุฎุจุฑู ุฅู ูุฌุฏูุง ุดุฑูููุง."
NO_MATCH = "โ ูู ูุฌุฏ ูู ุดุฑูููุง ุฎูุงู 30 ุฏูููุฉ. ุฌุฑูุจ ูุฑุฉ ุฃุฎุฑู ูุงุญููุง."
INTRO_PARTNER = (
    "โ <b>ุชู ุงูุนุซูุฑ ุนูู ุดุฑูู ููุฏุฑุฏุดุฉ!</b>\n"
    "โจ ุชุฐููุฑ: ูุง ุชูุธูุฑ ุฃู ูุนูููุงุช ุญุณุงุณุฉุ ูุงุญุชุฑู ุงูุทุฑู ุงูุขุฎุฑ.\n"
    "ุงุจุฏุฃ ุงูุญุฏูุซ ุจูุทู ๐"
)

LEAVE_CONFIRM = "โ๏ธ ูู ุชุฑูุฏ ูุบุงุฏุฑุฉ ุงูุฏุฑุฏุดุฉุ\nุงุฎุชุฑ: ูุนู โ / ูุง โ"
LEAVE_TOO_SOON = "โณ ููููู ุงููุบุงุฏุฑุฉ ุจุนุฏ {remain} ุซุงููุฉ."
LEFT_YOU = "๐ช ุชู ุฅููุงุก ุงูุฏุฑุฏุดุฉ. ุนุฏุชู ุฅูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ."
LEFT_PARTNER = "โน๏ธ ุฃููู ุงูุทุฑู ุงูุขุฎุฑ ุงูุฏุฑุฏุดุฉ. ููููู ุจุฏุก ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ."

REPORT_CONFIRM = "๐จ ูู ุชุฑูุฏ ุฅุฑุณุงู ุจูุงุบ ููุฑุงุฌุนุฉ ุขุฎุฑ 50 ุฑุณุงูุฉุ ูุนู โ / ูุง โ"
REPORT_OK = "โ ุชู ุงุณุชูุงู ุงูุจูุงุบ ูุณูุฑุงุฌุน ุงููุญุงุฏุซุฉ."
REPORT_RESULT = "๐ ูุชูุฌุฉ ุงููุฑุงุฌุนุฉ:\n{lines}\n\nุชุฐููุฑ: ุงูุงุญุชุฑุงู ุงูุญุงูู ูุฏูู โญ {respect}."
MUTED = "โณ ุฃูุช ุชุญุช ุญุธุฑ ุฌุฒุฆู ุญุชู ุงูุชูุงุก ุงููุฏุฉ (~{left} ุซุงููุฉ)."
BANNED = "๐ซ ุญุณุงุจู ูุญุธูุฑ ุจุณุจุจ ูุฎุงููุงุช ูุชูุฑุฑุฉ."

# ============ ุฏุงูุฉ ุงุฎุชูุงุฑ ุฑุณุงูุฉ ุงูุชุฑุญูุจ ============
def get_welcome_message(topic=None):
    if topic == "START":
        return random.choice(START_MESSAGES)
    if not topic:
        return random.choice(START_MESSAGES)

    t = topic.lower()

    if "ุฑูุงุถ" in t or "โฝ" in topic:
        return random.choice(FOOTBALL_MESSAGES)
    if "ุณูุงุณ" in t or "๐" in topic:
        return random.choice(POLITICS_MESSAGES)
    if "ุฏูู" in t or "๐" in topic:
        return random.choice(RELIGION_MESSAGES)
    if "ููุณู" in t or "๐ญ" in topic:
        return random.choice(PHILOSOPHY_MESSAGES)
    if "ุชุนุงุฑู" in t or "๐ค" in topic:
        return random.choice(SOCIAL_MESSAGES)

    return random.choice(START_MESSAGES)
    
