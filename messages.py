

# =================
# messages.py (ูุญุณู ูุน ุฑุณุงุฆู ูุถุญูุฉ)
# =================
import random
import time
from stickers import STICKERS

# Messages constants (ุนุฑุจู)
WELCOME = "๐ ูุฑุญุจูุง ุจู! ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ููุจุฏุก."
HELP = (
    "๐ <b>ูุณุงุนุฏุฉ</b>\n"
    "โข ๐ค ูููู โ ุนุฑุถ ุจูุงูุงุชู.\n"
    "โข โ๏ธ ุชุนุฏูู ุงูุงุณู / ๐ ุชุนุฏูู ุงูุนูุฑ.\n"
    "โข ๐ ุงูุจุญุซ ุนู ุฏุฑุฏุดุฉ โ ุชุฎุชุงุฑ ููุถูุนูุง + ุฌูุณ ุงูุทุฑู ุงูุขุฎุฑ ุซู ูุจุญุซ ููุฏุฉ 30 ุฏูููุฉ.\n"
    "โข ุฃุซูุงุก ุงูุฏุฑุฏุดุฉ: ๐จ ุฅุจูุงุบุ ๐ช ูุบุงุฏุฑุฉ (ุจุนุฏ 30 ุซุงููุฉ) ูุน ุชุฃููุฏ.\n"
)

WELCOME_MESSAGE = "๐ ุฃููุงู ุจู ูู ุงูุจูุช!"
ASK_NAME = "ูุง ุงุณููุ"
ASK_GENDER = "ุงุฎุชุฑ ุฌูุณู:"
ASK_AGE = "ูู ุนูุฑูุ"

PROFILE_SAVED = """โ ุชู ุญูุธ ูููู ุงูุดุฎุตู ุจูุฌุงุญ!

๐ค <b>ูุนูููุงุชู:</b>
โข ุงูุงุณู: {name}
โข ุงูุฌูุณ: {gender}
โข ุงูุนูุฑ: {age}

๐ ูุจุฑูู! ุฃุตุจุญ ุจุฅููุงูู ุงูุขู ุงูุจุญุซ ุนู ุดุฑูุงุก ููุฏุฑุฏุดุฉ!"""

SEARCHING = "๐ ุฌุงุฑู ุงูุจุญุซ ุนู ุดุฑูู ููุงุณุจ ูู...\nโฐ ูุฏ ูุณุชุบุฑู ุงูุฃูุฑ ุญุชู 30 ุฏูููุฉ\n๐ก ููููู ุงูุนูุฏุฉ ูููุงุฆูุฉ ูุณูุฎุจุฑู ููุฑ ุงูุนุซูุฑ ุนูู ุดุฑูู!"
NO_MATCH = "๐ ููุฃุณู ูู ูุฌุฏ ุดุฑูููุง ููุงุณุจูุง ุฎูุงู ูุชุฑุฉ ุงูุจุญุซ.\n๐ ูุง ุชูุฃุณ! ุฌุฑุจ ูุฑุฉ ุฃุฎุฑู - ุฑุจูุง ุชุฌุฏ ุงูุดุฎุต ุงูููุงุณุจ ูุฐู ุงููุฑุฉ."
INTRO_PARTNER = (
    "๐ <b>ุฑุงุฆุน! ุชู ุงูุนุซูุฑ ุนูู ุดุฑูู ููุฏุฑุฏุดุฉ!</b>\n\n"
    "๐ <b>ููุงุนุฏ ุงููุญุงุฏุซุฉ:</b>\n"
    "โข ุงุญุชุฑู ุงูุทุฑู ุงูุขุฎุฑ ููู ููุฐุจูุง\n"
    "โข ูุง ุชุดุงุฑู ูุนูููุงุช ุดุฎุตูุฉ ุญุณุงุณุฉ\n"
    "โข ุงุณุชูุชุน ุจูุญุงุฏุซุฉ ููุชุนุฉ ูุขููุฉ\n\n"
    "๐ฌ ุงุจุฏุฃ ุจู'ุงูุณูุงู ุนูููู' ุฃู 'ูุฑุญุจุง' ูุงุณุชูุชุน! ๐"
)

LEAVE_CONFIRM = "๐ค ูุชุฃูุฏ ุฅูู ุชุฑูุฏ ุชุชุฑู ุงูุฏุฑุฏุดุฉุ\n\n๐ ููููู ุงูุจุญุซ ุนู ุดุฑูู ุฌุฏูุฏ ุจุนุฏ ุงููุบุงุฏุฑุฉ\n\nุงุฎุชุฑ: ูุนู โ ุฃู ูุง โ"
LEAVE_TOO_SOON = "โฐ ุตุจุฑ ุดููุฉ! ูุฌุจ ุงูุงูุชุธุงุฑ {remain} ุซุงููุฉ ุฅุถุงููุฉ ูุจู ุงููุบุงุฏุฑุฉ.\n๐ก ูุฐุง ูุณุงุนุฏ ูู ููุน ุฅุณุงุกุฉ ุงูุงุณุชุฎุฏุงู."
LEFT_YOU = "๐ ุชู ุฅููุงุก ุงูุฏุฑุฏุดุฉ ุจูุฌุงุญ. ุนุฏุช ุฅูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ.\n๐ ููููู ุงูุจุญุซ ุนู ุฏุฑุฏุดุฉ ุฌุฏูุฏุฉ ูุชู ุดุฆุช!"
LEFT_PARTNER = "๐ ููุฃุณู ุฃููู ุดุฑููู ุงููุญุงุฏุซุฉ.\n๐ ูุง ุชููู! ููููู ุงูุจุญุซ ุนู ุดุฑูู ุฌุฏูุฏ ุงูุขู."

REPORT_CONFIRM = "๐จ <b>ุชุฃููุฏ ุงูุจูุงุบ</b>\n\nูู ุชุฑูุฏ ูุนูุงู ุฅุฑุณุงู ุจูุงุบ ููุฑุงุฌุนุฉ ุขุฎุฑ ุฑุณุงุฆู ุดุฑูููุ\n\nโ๏ธ ุงูุจูุงุบุงุช ุงููุงุฐุจุฉ ูุฏ ุชุคุซุฑ ุนูู ุญุณุงุจู ุฃูุถุงู.\n\nุงุฎุชุฑ: ูุนู โ ุฃู ูุง โ"
REPORT_OK = "โ ุชู ุงุณุชูุงู ุงูุจูุงุบ ูุฅุฑุณุงูู ููุฑูู ุงููุฑุงุฌุนุฉ.\n๐ ุณูููู ุจูุฑุงุฌุนุฉ ุงูุฑุณุงุฆู ูุฅุชุฎุงุฐ ุงูุฅุฌุฑุงุก ุงูููุงุณุจ."
REPORT_RESULT = """๐ <b>ูุชูุฌุฉ ูุฑุงุฌุนุฉ ุงูุจูุงุบ:</b>

๐ ุงูุฑุณุงุฆู ุงููุฑุงุฌุนุฉ: {lines}
๐ซ ุงููููุงุช ุงููุณูุฆุฉ ุงูููุชุดูุฉ: {badwords}
โฌ๏ธ ุงูููุงุท ุงููุฎุตููุฉ: {penalty}
โญ ุงุญุชุฑุงู ุงูุดุฑูู ุงูุขู: {new_respect}

{'๐จ ุชู ุญุธุฑ ุงููุณุชุฎุฏู ููุงุฆูุงู!' if new_respect <= 25 else 'โฐ ุชู ูุชู ุงููุณุชุฎุฏู ูุคูุชุงู!' if new_respect <= 40 else 'โ ุชู ุงุชุฎุงุฐ ุฅุฌุฑุงุก ุชุฃุฏูุจู.'}"""

MUTED = "๐ <b>ุญุณุงุจ ููุชูู</b>\n\nโฐ ุฃูุช ููุชูู ุญุงููุงู ููุฏุฉ {left} ุซุงููุฉ ุจุณุจุจ ูุฎุงููุฉ ููุงุนุฏ ุงููุฌุชูุน.\n\n๐ ุฑุงุฌุน ููุงุนุฏ ุงูุงุณุชุฎุฏุงู ูุชุฌูุจ ุงููููุงุช ุงููุณูุฆุฉ."
BANNED = "๐ซ <b>ุญุณุงุจ ูุญุธูุฑ</b>\n\n๐ ุชู ุญุธุฑ ุญุณุงุจู ููุงุฆูุงู ุจุณุจุจ ูุฎุงููุงุช ูุชูุฑุฑุฉ ูููุงุนุฏ ุงููุฌุชูุน.\n\n๐ ููุงุณุชูุณุงุฑ ุชูุงุตู ูุน ุงูุฏุนู: @MAA2857"

# ุฑุณุงุฆู ุชุฑุญูุจูุฉ ุนุงูุฉ ูุถุญูุฉ ููุชููุนุฉ
START_MESSAGES = [
    "๐ ุฃูููู ุฃูููู! ุฏุฎูุช ุนุงูู ุงูุฏุฑุฏุดุฉ ุงูุนุดูุงุฆูุฉ... ุฎููู ุฌุงูุฒ ููู ุดู!",
    "๐ญ ูุฑุญุจุง ุจู ูู ูุณุฑุญ ุงูุญูุงุฉ ุงูุฑููู! ููุง ูู ุดุฎุต ููุซู... ูุงูุณุคุงู: ููู ุงูุฃุตุฏูุ",
    "๐ช ุฏุฎูุช ุงูุณูุฑู ุงูุฅููุชุฑููู! ุงุณุชุนุฏ ููุถุญูุ ุงูุจูุงุกุ ูุงููุฏู ุฃุญูุงูุงู ๐",
    "๐ฒ ุญูุงู ุงููู! ูุฐุง ุงูุจูุช ูุซู ุตูุฏูู ุงูุดููููุงุชุฉ... ูุง ุชุฏุฑู ุดู ุฑุญ ุชุทูุนูู!",
    "๐ ุฃููุงู ุจุงููุบุงูุฑ ุงูุฌุฏูุฏ! ุฑุญูุชู ูู ุนุงูู ุงูุฏุฑุฏุดุฉ ุงูุนุดูุงุฆูุฉ ุจุฏุฃุช... ุดุฏ ุญุฒุงู ุงูุฃูุงู!",
    "๐ฏ ูุตูุช ููููุงู ุงูุตุญ ุฅุฐุง ููุช ุชุฏูุฑ ุนูู ุฏุฑุฏุดุฉ... ุฃู ุงูููุงู ุงูุบูุท ุฅุฐุง ููุช ุชุฏูุฑ ุนูู ุงููุฏูุก ๐",
    "๐ช ูุฑุญุจุงู ุจู ูู ูุฑููุงู ุงูุดุฎุตูุงุช! ูู ุฏูููุฉ ููุงุฌุฃุฉ ุฌุฏูุฏุฉ!",
    "๐ณ ุณุชุฑุงูู! ุฏุฎูุช ุนุงูู ุงูุฏุฑุฏุดุฉ... ุจุณ ุงูุชุจู ูุง ุชุทูุญ ูู ุงูุฌุชุฑ ๐",
    "๐จ ุฃููุงู ุจุงูููุงู! ููุง ุฑุญ ุชุฑุณู ุฃุฌูู (ูุฃุบุฑุจ) ุงูููุญุงุช ุงูุญูุงุฑูุฉ!",
    "๐ช ุชูุถู ุชูุถู! ุนุฑุถ ุงูุฏุฑุฏุดุฉ ุงูุนุดูุงุฆูุฉ ุจุฏุฃ... ุงูุชุฐุงูุฑ ูุฌุงููุฉ ุจุณ ุงููุฏู ุบุงูู! ๐",
    "๐ญ ูุณุฑุญ ุงูุญูุงุฉ ููุชูุญ! ูู ูุงุญุฏ ููุนุจ ุฏูุฑู... ุงูููู ุชุนุฑู ุชููุฒ ุงูุฃุฏูุงุฑ ุงูุญููููุฉ!",
    "๐ช ุญูุงู ูู ุฃูุจุฑ ุณูุฑู ุฅููุชุฑููู! ููุง ุงูุจุดุฑ ุฃุบุฑุจ ูู ุงูุญููุงูุงุช ุงููุฏุฑุจุฉ! ๐"
]

# ุฑุณุงุฆู ุฑูุงุถูุฉ ูุถุญูุฉ
FOOTBALL_MESSAGES = [
    "โฝ ููุง ูุดูู... ุฑูุงู ูุฏุฑูุฏ ููุง ุจุฑุดูููุฉุ (ูุฅุฐุง ููุช ุงูุฃููู ุฑุญ ุฃุญุชุฑูู ุฃูุชุฑ ๐)",
    "๐ ุฃููุงู ุจุฃุณุทูุฑุฉ ุงููุฑุฉ! ุจุชุชููุน ููู ุฑุญ ูุงุฎุฏ ุงูุจุทููุฉ ูุงูุณูุฉุ",
    "โฝ ุฏุฎู ุฎุจูุฑ ุงููุฑุฉ! ุญุถุฑ ุงูุดุงู ูุงูููุณุฑุงุชุ ุงูููุงุด ุฑุญ ูุทูู ๐",
    "๐ฅ ุฌูููููู ูู ุงูุฏุฑุฏุดุฉ! ูุฑุญุจุง ุจุนุงุดู ุงููุฑุฉ ุงูุฌุฏูุฏ!",
    "โฝ ูุฑุฉ ูุฏูุ ูุนูู ุงุณุชุนุฏ ูููุงุด ูู ุงูููุน ุงูุซููู... ูุน ุงุญุชูุงู ุดุฌุงุฑ ูุฏู ๐",
    "๐๏ธ ุฃููุงู ุจู ูู ุงูููุนุจ ุงูุฅููุชุฑููู! ููุง ุงูููุงู ุฃุฎุทุฑ ูู ุงูุชุฏุฎูุงุช ุงููููุฉ!",
]

# ุฑุณุงุฆู ุณูุงุณูุฉ (ุญุณุงุณุฉ ููู ูุถุญูุฉ)
POLITICS_MESSAGES = [
    "๐ณ๏ธ ุฃูู... ุฏุฎู ุงููุญูู ุงูุณูุงุณู! ุงุณุชุนุฏ ูููุงุด ุญุงุฑ (ููููู ูุงุฑ ๐ฅ)",
    "๐ ุงูุณูุงุณุฉุ ูุนูู ุจุฏู ุชูุงูุด ุฃุตุนุจ ููุงุถูุน ุงูููู... ุงููู ูุนููู!",
    "๐๏ธ ุฃููุงู ุจุงูุณูุงุณู ุงูุฌุฏูุฏ! ุจุณ ูุง ุชุฎูููู ุฃูุฏู ุฅูู ูุชุญุช ูุงูููุถูุน ๐",
    "๐ ุณูุงุณุฉุ ุทูุจ ุฎูููุง ูุชูู ูุฎุชูู ุจุฃุฏุจ... ุฃู ุนูู ุงูุฃูู ูุญุงูู ๐",
    "๐บ๏ธ ุฏุฎูุช ุญูู ุงูุฃูุบุงู ุงูุณูุงุณู! ุฎุทูุฉ ุบูุท ูุจุชููุฌุฑ ุงูุฏุฑุฏุดุฉ ๐ฅ",
]

# ุฑุณุงุฆู ุฏูููุฉ ูุญุชุฑูุฉ
RELIGION_MESSAGES = [
    "๐ ุฃููุงู ูุณููุงู... ููุถูุน ุงูุฏูู ูุญุชุงุฌ ุญููุฉ ูุงุญุชุฑุงู ููุฌููุน ๐คฒ",
    "๐ฟ ุญูุงู ุงููู... ููุง ูุชููู ุจุงูุฏูู ุจุฃุฏุจ ูุงุญุชุฑุงู ููู ุงูุฃุฏูุงู",
    "โช๏ธ ุงูุณูุงู ุนูููู... ููุถูุน ุฑูุญุงูู ุฌูููุ ุจุฅุฐูู ูุฎููู ุญูุงุฑ ุจูุงุก",
    "๐๏ธ ุฃููุงู ุจู... ุงูุฏูู ููุถูุน ุนูููุ ููุง ูุบูุต ุจุงููุนุงูู ุงูุฌูููุฉ",
    "๐ ูุฑุญุจุงู... ููุง ูุชูุงูุด ูู ุฃููุฑ ุงูุฑูุญ ูุงูุฅููุงู ุจูู ุงุญุชุฑุงู",
]

# ุฑุณุงุฆู ููุณููุฉ ุนูููุฉ ููุถุญูุฉ
PHILOSOPHY_MESSAGES = [
    "๐ค ุฃููุงู ุจุฃููุงุทูู ุงูุนุตุฑ! ุฌูุฒ ูุฎู ูููุงุด ููุณูู ุนููู (ุฃู ูุญูุฑ ๐ต)",
    "๐ง ูุฑุญุจุงู ุจุงููููุฑ! ููุง ุฑุญ ูููุณู ุญุชู ูู ุฃุจุณุท ุงูุฃุดูุงุก!",
    "๐ญ ุฏุฎู ุงูุญููู! ุจุณ ูุง ุชููุณููู ููุถูุน ุงูููุงูู... ุฎูุงุต ุชุนูุฏุช ๐",
    "๐ ุงููุฌูุฏ... ุงูุนุฏู... ุงููุนูู... ุฃููุฏ ุฑุญ ูุทูุน ูู ููู ููุฎูุง ูุนููุฏ!",
    "๐คฏ ููุณูุฉุ ูุนูู ุจุฏูุง ูููุฑ ุจุฃุดูุงุก ุชุฎูู ูุฎูุง ูุนูู ุฑูุณุชุงุฑุช ูู ุดููุฉุ",
    "๐งโโ๏ธ ุฃููุงู ุจุณูุฑุงุท ุงูุฌุฏูุฏ! ุจุณ ูุง ุชุณุฃููู ุฃุณุฆูุฉ ุชุฎูููู ุฃุดู ุจูุฌูุฏู ๐",
]

# ุฑุณุงุฆู ุงุฌุชูุงุนูุฉ ูุชุนุงุฑู
SOCIAL_MESSAGES = [
    "๐ฌ ุฃููุงู ุจุงูุงุฌุชูุงุนู! ููุง ูุชุนุฑู ููุญูู... ุจุณ ุจุฃุฏุจ ูุง ูุนูู!",
    "๐ค ุญูุงู... ุงูุชุนุงุฑู ููุ ูุงูููุงู ุงูุญูู ููุชุงุญ ุงููููุจ!",
    "๐ ูุฑุญุจุงู ุจู... ููุง ูุชุนุฑู ุนูู ุจุนุถ ููุฏุฑุฏุด ุฏุฑุฏุดุฉ ุญููุฉ!",
    "๐ ุฃูููู... ูู ูุงุญุฏ ุนูุฏู ุญูุงูุชูุ ุดุงุฑููุง ุญูุงูุชู!",
    "๐ซ ุงูุชุนุงุฑู ุฃูู ุฎุทูุฉ ููุตุฏุงูุฉ... ุฃู ูููุฏู ุฃุญูุงูุงู ๐",
    "๐ ูุฑุญุจุง... ุฎูููุง ูุนุฑู ุจุนุถ ููุถุญู ุดูู ุนูู ูุงูุญูุงุฉ!",
]

# ุฑุณุงุฆู ุนุงูุฉ ูุชููุนุฉ
GENERAL_MESSAGES = [
    "๐ ููุถูุน ุนุงูุ ูุนูู ูู ุดู ูููู ูุตูุฑ... ุงุณุชุนุฏ ููููุงุฌุขุช!",
    "๐ช ุนุงู ูุดุงูู! ูู ุงูุฃูู ูููุงุกุ ููู ูุณููุญ (ุงูููุฐุจ ุทุจุนุงู ๐)",
    "๐ฏ ุจุฏูู ุชุฎุตุตุ ุญูู... ูุนูุงุชูุง ุฑุญ ูุทูุฑ ูู ูู ุงุชุฌุงู!",
    "๐ ุงูุนุงูู ููุชูุญ ูุฏุงูู... ุงุญูู ุนู ุงููู ุจุฎุงุทุฑู!",
    "๐ญ ููุถูุน ุนุงู = ููุงุฌุขุช ุนุงูุฉ! ููุง ูุดูู ููู ุฑุญ ุชูุตููุง ุงูุฏุฑุฏุดุฉ!",
]

def get_welcome_message(topic=None):
    if topic == "START":
        return random.choice(START_MESSAGES)
    if not topic:
        return random.choice(START_MESSAGES)
    
    t = topic.lower()
    if "ุฑูุงุถ" in t or "โฝ" in topic or "ูุฑุฉ" in t or "football" in t.lower():
        return random.choice(FOOTBALL_MESSAGES)
    elif "ุณูุงุณ" in t or "politics" in t.lower():
        return random.choice(POLITICS_MESSAGES)
    elif "ุฏูู" in t or "religion" in t.lower() or "ุฅุณูุงู" in t:
        return random.choice(RELIGION_MESSAGES)
    elif "ููุณู" in t or "philosophy" in t.lower():
        return random.choice(PHILOSOPHY_MESSAGES)
    elif "ุชุนุงุฑู" in t or "social" in t.lower() or "ุงุฌุชูุงุน" in t:
        return random.choice(SOCIAL_MESSAGES)
    elif "ุนุงู" in t or "general" in t.lower():
        return random.choice(GENERAL_MESSAGES)
    else:
        return random.choice(START_MESSAGES)

# webhook-safe send (no sleep)
def delayed_send(bot, chat_id, text, **kwargs):
    # remove delay if provided mistakenly
    kwargs.pop("delay", None)
    try:
        bot.send_message(chat_id, text, **kwargs)
    except Exception as e:
        print(f"[delayed_send ERROR] {e} | chat_id={chat_id} | text_preview={str(text)[:120]}")
